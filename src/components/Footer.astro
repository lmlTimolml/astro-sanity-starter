---
/* import cleanClass from '../utils/cleanClass' */
import deepClean from '../utils/deepClean';
import type { FooterType } from '../types/sanityTypes';

import { components } from '../sanity/lib/components';

const footer = deepClean(Astro.props) as FooterType;

const blocks = footer?.blocks ?? [];
const footerBg = footer?.footerColor;

/* const customClass = [
  `${cleanClass(footerBg)}`,
].join(' '); */

console.log('FOOTER: ', blocks);

---

<footer class={`grid-component-wrapper ${footerBg}`}>
  {blocks?.map((mod, index) => {
  const Component = components[mod._type];
  if (!Component) {
    console.warn(`⚠️ No footer component found for block type: ${mod._type}`);
    return null;
  }
  return <Component {...mod} key={index} />;
})}
</footer>
